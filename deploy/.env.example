# -----------------------------------------------------------------------------
# PyWiki — production environment template
#
# Copy to /opt/pywiki/.env and fill in all values marked CHANGE_ME.
# Permissions: chown pywiki:pywiki .env && chmod 600 .env
# -----------------------------------------------------------------------------

# ── Application ───────────────────────────────────────────────────────────────

APP_NAME=PyWiki
BASE_URL=https://expanse.performiq.com
ENVIRONMENT=production
DEBUG=false

# ── Database ──────────────────────────────────────────────────────────────────

# Format: postgresql+asyncpg://user:password@host/dbname
DATABASE_URL=postgresql+asyncpg://pywiki:CHANGE_ME@localhost/pywiki

# ── Auth / JWT ────────────────────────────────────────────────────────────────

# Generate with: python3 -c "import secrets; print(secrets.token_hex(64))"
SECRET_KEY=CHANGE_ME

ACCESS_TOKEN_EXPIRE_MINUTES=480
REFRESH_TOKEN_EXPIRE_DAYS=30

# ── Storage ───────────────────────────────────────────────────────────────────

ATTACHMENT_ROOT=/opt/pywiki/data/attachments
MAX_ATTACHMENT_BYTES=52428800

# ── SMTP / email ──────────────────────────────────────────────────────────────

SMTP_HOST=smtp-relay.brevo.com
SMTP_PORT=587
SMTP_USER=CHANGE_ME
SMTP_PASSWORD=CHANGE_ME
SMTP_FROM=noreply@performiq.com
SMTP_TLS=true
SMTP_SSL=false

# Set to true to require users to verify their email before logging in
REQUIRE_EMAIL_VERIFICATION=false

# ── Wiki ──────────────────────────────────────────────────────────────────────

SITE_NAME=PyWiki
DEFAULT_NAMESPACE=Main
ADMIN_EMAIL=admin@performiq.com

# Set to false once the first admin account has been created
ALLOW_REGISTRATION=true

# ── CORS ──────────────────────────────────────────────────────────────────────

CORS_ORIGINS=["https://expanse.performiq.com"]
