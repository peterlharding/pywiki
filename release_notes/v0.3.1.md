# PyWiki v0.3.1 Release Notes

**Released:** 2026-03-02

Patch release fixing issues discovered during post-v0.3.0 testing of the email
and user profile features.

---

## Fixes

### SMTP error handling
Any SMTP failure (authentication error, connection refused, wrong TLS mode, etc.)
is now caught, logged as an error, and falls back to printing the email to stdout.
Previously these errors propagated as an unhandled exception and returned
HTTP 500 to the user.

### Nav bar username link
The logged-in username shown in the top navigation bar was a plain `<span>` with
no interaction. It is now an `<a>` linking to `/user/{username}` so clicking it
opens the profile page directly.

### User profile page layout
The profile page previously used a two-column grid that gave the details table
only ~280 px. The layout is now a single column: the details table spans the full
content width, with Recent Contributions directly below it.

### Profile contributions — deduplicated
Recent Contributions was listing every version the user had authored for a given
page (e.g. v1, v2, v3 all as separate rows). It now shows only the most recent
version the user authored per page, giving a clean per-page contribution list.

### Profile contributions — empty summary rendering
Edit summaries with no text were rendering the raw HTML string
`<span class="muted">—</span>` as visible text. Empty summaries now render
correctly as a muted `—` glyph.

### Test suite isolation
The test suite was sensitive to values set in the developer's `.env` file.
`conftest.py` now unconditionally sets `REQUIRE_EMAIL_VERIFICATION=false` and
`SMTP_HOST=""` before any app module is imported, so the test results are
consistent regardless of local SMTP configuration.

---

## Upgrading from v0.3.0

No database migrations required. Pull the latest code and restart the app.
